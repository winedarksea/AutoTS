
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>autots package &#8212; AutoTS 0.5.0 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="autots.datasets package" href="autots.datasets.html" />
    <link rel="prev" title="autots" href="modules.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="autots-package">
<h1>autots package<a class="headerlink" href="#autots-package" title="Permalink to this headline">¶</a></h1>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="autots.datasets.html">autots.datasets package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="autots.datasets.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.datasets.html#module-autots.datasets.fred">autots.datasets.fred module</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.datasets.html#module-autots.datasets">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="autots.evaluator.html">autots.evaluator package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="autots.evaluator.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.evaluator.html#module-autots.evaluator.anomaly_detector">autots.evaluator.anomaly_detector module</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.evaluator.html#module-autots.evaluator.auto_model">autots.evaluator.auto_model module</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.evaluator.html#module-autots.evaluator.auto_ts">autots.evaluator.auto_ts module</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.evaluator.html#module-autots.evaluator.benchmark">autots.evaluator.benchmark module</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.evaluator.html#module-autots.evaluator.event_forecasting">autots.evaluator.event_forecasting module</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.evaluator.html#module-autots.evaluator.metrics">autots.evaluator.metrics module</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.evaluator.html#module-autots.evaluator">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="autots.models.html">autots.models package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="autots.models.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.models.html#module-autots.models.arch">autots.models.arch module</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.models.html#module-autots.models.base">autots.models.base module</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.models.html#module-autots.models.basics">autots.models.basics module</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.models.html#module-autots.models.cassandra">autots.models.cassandra module</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.models.html#module-autots.models.dnn">autots.models.dnn module</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.models.html#module-autots.models.ensemble">autots.models.ensemble module</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.models.html#module-autots.models.gluonts">autots.models.gluonts module</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.models.html#module-autots.models.greykite">autots.models.greykite module</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.models.html#module-autots.models.matrix_var">autots.models.matrix_var module</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.models.html#module-autots.models.model_list">autots.models.model_list module</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.models.html#module-autots.models.prophet">autots.models.prophet module</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.models.html#module-autots.models.pytorch">autots.models.pytorch module</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.models.html#module-autots.models.sklearn">autots.models.sklearn module</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.models.html#module-autots.models.statsmodels">autots.models.statsmodels module</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.models.html#module-autots.models.tfp">autots.models.tfp module</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.models.html#module-autots.models">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="autots.templates.html">autots.templates package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="autots.templates.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.templates.html#module-autots.templates.general">autots.templates.general module</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.templates.html#module-autots.templates">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="autots.tools.html">autots.tools package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="autots.tools.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.tools.html#module-autots.tools.anomaly_utils">autots.tools.anomaly_utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.tools.html#module-autots.tools.calendar">autots.tools.calendar module</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.tools.html#module-autots.tools.cointegration">autots.tools.cointegration module</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.tools.html#module-autots.tools.cpu_count">autots.tools.cpu_count module</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.tools.html#module-autots.tools.fast_kalman">autots.tools.fast_kalman module</a><ul>
<li class="toctree-l3"><a class="reference internal" href="autots.tools.html#usage-example">Usage example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="autots.tools.html#module-autots.tools.hierarchial">autots.tools.hierarchial module</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.tools.html#module-autots.tools.holiday">autots.tools.holiday module</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.tools.html#module-autots.tools.impute">autots.tools.impute module</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.tools.html#module-autots.tools.lunar">autots.tools.lunar module</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.tools.html#module-autots.tools.percentile">autots.tools.percentile module</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.tools.html#module-autots.tools.probabilistic">autots.tools.probabilistic module</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.tools.html#module-autots.tools.profile">autots.tools.profile module</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.tools.html#module-autots.tools.regressor">autots.tools.regressor module</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.tools.html#module-autots.tools.seasonal">autots.tools.seasonal module</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.tools.html#module-autots.tools.shaping">autots.tools.shaping module</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.tools.html#module-autots.tools.thresholding">autots.tools.thresholding module</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.tools.html#module-autots.tools.transform">autots.tools.transform module</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.tools.html#module-autots.tools.window_functions">autots.tools.window_functions module</a></li>
<li class="toctree-l2"><a class="reference internal" href="autots.tools.html#module-autots.tools">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="module-autots">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-autots" title="Permalink to this headline">¶</a></h2>
<p>Automated Time Series Model Selection for Python</p>
<p><a class="reference external" href="https://github.com/winedarksea/AutoTS">https://github.com/winedarksea/AutoTS</a></p>
<dl class="function">
<dt id="autots.load_daily">
<code class="sig-prename descclassname">autots.</code><code class="sig-name descname">load_daily</code><span class="sig-paren">(</span><em class="sig-param">long: bool = True</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.load_daily" title="Permalink to this definition">¶</a></dt>
<dd><p>2020 Covid, Air Pollution, and Economic Data.</p>
<p>Sources: Wikimedia Foundation</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>long</strong> (<em>bool</em>) – if True, return data in long format. Otherwise return wide</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="autots.load_monthly">
<code class="sig-prename descclassname">autots.</code><code class="sig-name descname">load_monthly</code><span class="sig-paren">(</span><em class="sig-param">long: bool = True</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.load_monthly" title="Permalink to this definition">¶</a></dt>
<dd><p>Federal Reserve of St. Louis monthly economic indicators.</p>
</dd></dl>

<dl class="function">
<dt id="autots.load_yearly">
<code class="sig-prename descclassname">autots.</code><code class="sig-name descname">load_yearly</code><span class="sig-paren">(</span><em class="sig-param">long: bool = True</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.load_yearly" title="Permalink to this definition">¶</a></dt>
<dd><p>Federal Reserve of St. Louis annual economic indicators.</p>
</dd></dl>

<dl class="function">
<dt id="autots.load_hourly">
<code class="sig-prename descclassname">autots.</code><code class="sig-name descname">load_hourly</code><span class="sig-paren">(</span><em class="sig-param">long: bool = True</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.load_hourly" title="Permalink to this definition">¶</a></dt>
<dd><p>Traffic data from the MN DOT via the UCI data repository.</p>
</dd></dl>

<dl class="function">
<dt id="autots.load_weekly">
<code class="sig-prename descclassname">autots.</code><code class="sig-name descname">load_weekly</code><span class="sig-paren">(</span><em class="sig-param">long: bool = True</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.load_weekly" title="Permalink to this definition">¶</a></dt>
<dd><p>Weekly petroleum industry data from the EIA.</p>
</dd></dl>

<dl class="function">
<dt id="autots.load_weekdays">
<code class="sig-prename descclassname">autots.</code><code class="sig-name descname">load_weekdays</code><span class="sig-paren">(</span><em class="sig-param">long: bool = False</em>, <em class="sig-param">categorical: bool = True</em>, <em class="sig-param">periods: int = 180</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.load_weekdays" title="Permalink to this definition">¶</a></dt>
<dd><p>Test edge cases by creating a Series with values as day of week.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>long</strong> (<em>bool</em>) – if True, return a df with columns “value” and “datetime”
if False, return a Series with dt index</p></li>
<li><p><strong>categorical</strong> (<em>bool</em>) – if True, return str/object, else return int</p></li>
<li><p><strong>periods</strong> (<em>int</em>) – number of periods, ie length of data to generate</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="autots.load_live_daily">
<code class="sig-prename descclassname">autots.</code><code class="sig-name descname">load_live_daily</code><span class="sig-paren">(</span><em class="sig-param">long: bool = False, observation_start: str = None, observation_end: str = None, fred_key: str = None, fred_series=['DGS10', 'T5YIE', 'SP500', 'DCOILWTICO', 'DEXUSEU', 'WPU0911'], tickers: list = ['MSFT'], trends_list: list = ['forecasting', 'cycling', 'microsoft'], trends_geo: str = 'US', weather_data_types: list = ['AWND', 'WSF2', 'TAVG'], weather_stations: list = ['USW00094846', 'USW00014925'], weather_years: int = 10, london_air_stations: list = ['CT3', 'SK8'], london_air_species: str = 'PM25', london_air_days: int = 180, earthquake_days: int = 180, earthquake_min_magnitude: int = 5, gsa_key: str = None, gov_domain_list=['nasa.gov'], gov_domain_limit: int = 600, wikipedia_pages: list = ['Microsoft_Office', 'List_of_highest-grossing_films'], wiki_language: str = 'en', weather_event_types=['%28Z%29+Winter+Weather', '%28Z%29+Winter+Storm'], timeout: float = 300.05, sleep_seconds: int = 2</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.load_live_daily" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a dataframe of data up to the present day. Requires active internet connection.
Try to be respectful of these free data sources by not calling too much too heavily.
Pass None instead of specification lists to exclude a data source.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>long</strong> (<em>bool</em>) – whether to return in long format or wide</p></li>
<li><p><strong>observation_start</strong> (<em>str</em>) – %Y-%m-%d earliest day to retrieve, passed to Fred.get_series and yfinance.history
note that apis with more restricts have other default lengths below which ignore this</p></li>
<li><p><strong>observation_end</strong> (<em>str</em>) – %Y-%m-%d most recent day to retrieve</p></li>
<li><p><strong>fred_key</strong> (<em>str</em>) – <a class="reference external" href="https://fred.stlouisfed.org/docs/api/api_key.html">https://fred.stlouisfed.org/docs/api/api_key.html</a></p></li>
<li><p><strong>fred_series</strong> (<em>list</em>) – list of FRED series IDs. This requires fredapi package</p></li>
<li><p><strong>tickers</strong> (<em>list</em>) – list of stock tickers, requires yfinance pypi package</p></li>
<li><p><strong>trends_list</strong> (<em>list</em>) – list of search keywords, requires pytrends pypi package. None to skip.</p></li>
<li><p><strong>weather_data_types</strong> (<em>list</em>) – from NCEI NOAA api data types, GHCN Daily Weather Elements
PRCP, SNOW, TMAX, TMIN, TAVG, AWND, WSF1, WSF2, WSF5, WSFG</p></li>
<li><p><strong>weather_stations</strong> (<em>list</em>) – from NCEI NOAA api station ids. Pass empty list to skip.</p></li>
<li><p><strong>london_air_stations</strong> (<em>list</em>) – londonair.org.uk source station IDs. Pass empty list to skip.</p></li>
<li><p><strong>london_species</strong> (<em>str</em>) – what measurement to pull from London Air. Not all stations have all metrics.</p></li>
<li><p><strong>earthquake_min_magnitude</strong> (<em>int</em>) – smallest earthquake magnitude to pull from earthquake.usgs.gov. Set None to skip this.</p></li>
<li><p><strong>gsa_key</strong> (<em>str</em>) – api key from <a class="reference external" href="https://open.gsa.gov/api/dap/">https://open.gsa.gov/api/dap/</a></p></li>
<li><p><strong>gov_domain_list</strong> (<em>list</em>) – dist of government run domains to get traffic data for. Can be very slow, so fewer is better.
some examples: [‘usps.com’, ‘ncbi.nlm.nih.gov’, ‘cdc.gov’, ‘weather.gov’, ‘irs.gov’, “usajobs.gov”, “studentaid.gov”, ‘nasa.gov’, “uk.usembassy.gov”, “tsunami.gov”]</p></li>
<li><p><strong>gov_domain_limit</strong> (<em>int</em>) – max number of records. Smaller will be faster. Max is currently 10000.</p></li>
<li><p><strong>wikipedia_pages</strong> (<em>list</em>) – list of Wikipedia pages, html encoded if needed (underscore for space)</p></li>
<li><p><strong>weather_event_types</strong> (<em>list</em>) – list of html encoded severe weather event types <a class="reference external" href="https://www1.ncdc.noaa.gov/pub/data/swdi/stormevents/csvfiles/Storm-Data-Export-Format.pdf">https://www1.ncdc.noaa.gov/pub/data/swdi/stormevents/csvfiles/Storm-Data-Export-Format.pdf</a></p></li>
<li><p><strong>timeout</strong> (<em>float</em>) – used by some queries</p></li>
<li><p><strong>sleep_seconds</strong> (<em>int</em>) – increasing this may reduce probability of server download failures</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="autots.load_linear">
<code class="sig-prename descclassname">autots.</code><code class="sig-name descname">load_linear</code><span class="sig-paren">(</span><em class="sig-param">long=False</em>, <em class="sig-param">shape=None</em>, <em class="sig-param">start_date: str = '2021-01-01'</em>, <em class="sig-param">introduce_nan: float = None</em>, <em class="sig-param">introduce_random: float = None</em>, <em class="sig-param">random_seed: int = 123</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.load_linear" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a dataset of just zeroes for testing edge case.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>long</strong> (<em>bool</em>) – whether to make long or wide</p></li>
<li><p><strong>shape</strong> (<em>tuple</em>) – shape of output dataframe</p></li>
<li><p><strong>start_date</strong> (<em>str</em>) – first date of index</p></li>
<li><p><strong>introduce_nan</strong> (<em>float</em>) – percent of rows to make null. 0.2 = 20%</p></li>
<li><p><strong>introduce_random</strong> (<em>float</em>) – shape of gamma distribution</p></li>
<li><p><strong>random_seed</strong> (<em>int</em>) – seed for random</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="autots.load_artificial">
<code class="sig-prename descclassname">autots.</code><code class="sig-name descname">load_artificial</code><span class="sig-paren">(</span><em class="sig-param">long=False</em>, <em class="sig-param">date_start=None</em>, <em class="sig-param">date_end=None</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.load_artificial" title="Permalink to this definition">¶</a></dt>
<dd><p>Load artifically generated series from random distributions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>long</strong> (<em>bool</em>) – if True long style data, if False, wide style data</p></li>
<li><p><strong>date_start</strong> – str or datetime.datetime of start date</p></li>
<li><p><strong>date_end</strong> – str or datetime.datetime of end date</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="autots.load_sine">
<code class="sig-prename descclassname">autots.</code><code class="sig-name descname">load_sine</code><span class="sig-paren">(</span><em class="sig-param">long=False</em>, <em class="sig-param">shape=None</em>, <em class="sig-param">start_date: str = '2021-01-01'</em>, <em class="sig-param">introduce_random: float = None</em>, <em class="sig-param">random_seed: int = 123</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.load_sine" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a dataset of just zeroes for testing edge case.</p>
</dd></dl>

<dl class="class">
<dt id="autots.AutoTS">
<em class="property">class </em><code class="sig-prename descclassname">autots.</code><code class="sig-name descname">AutoTS</code><span class="sig-paren">(</span><em class="sig-param">forecast_length: int = 14</em>, <em class="sig-param">frequency: str = 'infer'</em>, <em class="sig-param">prediction_interval: float = 0.9</em>, <em class="sig-param">max_generations: int = 10</em>, <em class="sig-param">no_negatives: bool = False</em>, <em class="sig-param">constraint: float = None</em>, <em class="sig-param">ensemble: str = 'auto'</em>, <em class="sig-param">initial_template: str = 'General+Random'</em>, <em class="sig-param">random_seed: int = 2022</em>, <em class="sig-param">holiday_country: str = 'US'</em>, <em class="sig-param">subset: int = None</em>, <em class="sig-param">aggfunc: str = 'first'</em>, <em class="sig-param">na_tolerance: float = 1</em>, <em class="sig-param">metric_weighting: dict = {'containment_weighting': 0</em>, <em class="sig-param">'contour_weighting': 1</em>, <em class="sig-param">'imle_weighting': 0</em>, <em class="sig-param">'made_weighting': 0.5</em>, <em class="sig-param">'mae_weighting': 2</em>, <em class="sig-param">'mage_weighting': 0</em>, <em class="sig-param">'mle_weighting': 0</em>, <em class="sig-param">'oda_weighting': 0.001</em>, <em class="sig-param">'rmse_weighting': 2</em>, <em class="sig-param">'runtime_weighting': 0.05</em>, <em class="sig-param">'smape_weighting': 5</em>, <em class="sig-param">'spl_weighting': 3}</em>, <em class="sig-param">drop_most_recent: int = 0</em>, <em class="sig-param">drop_data_older_than_periods: int = 100000</em>, <em class="sig-param">model_list: str = 'default'</em>, <em class="sig-param">transformer_list: dict = 'auto'</em>, <em class="sig-param">transformer_max_depth: int = 6</em>, <em class="sig-param">models_mode: str = 'random'</em>, <em class="sig-param">num_validations: int = 'auto'</em>, <em class="sig-param">models_to_validate: float = 0.15</em>, <em class="sig-param">max_per_model_class: int = None</em>, <em class="sig-param">validation_method: str = 'backwards'</em>, <em class="sig-param">min_allowed_train_percent: float = 0.5</em>, <em class="sig-param">remove_leading_zeroes: bool = False</em>, <em class="sig-param">prefill_na: str = None</em>, <em class="sig-param">introduce_na: bool = None</em>, <em class="sig-param">preclean: dict = None</em>, <em class="sig-param">model_interrupt: bool = True</em>, <em class="sig-param">current_model_file: str = None</em>, <em class="sig-param">verbose: int = 1</em>, <em class="sig-param">n_jobs: int = -2</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.AutoTS" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Automate time series modeling using a genetic algorithm.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>forecast_length</strong> (<em>int</em>) – number of periods over which to evaluate forecast. Can be overriden later in .predict().</p></li>
<li><p><strong>frequency</strong> (<em>str</em>) – ‘infer’ or a specific pandas datetime offset. Can be used to force rollup of data (ie daily input, but frequency ‘M’ will rollup to monthly).</p></li>
<li><p><strong>prediction_interval</strong> (<em>float</em>) – 0-1, uncertainty range for upper and lower forecasts. Adjust range, but rarely matches actual containment.</p></li>
<li><p><strong>max_generations</strong> (<em>int</em>) – number of genetic algorithms generations to run.
More runs = longer runtime, generally better accuracy.
It’s called <cite>max</cite> because someday there will be an auto early stopping option, but for now this is just the exact number of generations to run.</p></li>
<li><p><strong>no_negatives</strong> (<em>bool</em>) – if True, all negative predictions are rounded up to 0.</p></li>
<li><p><strong>constraint</strong> (<em>float</em>) – <p>when not None, use this float value * data st dev above max or below min for constraining forecast values.
now also instead accepts a dictionary containing the following key/values:</p>
<blockquote>
<div><dl class="simple">
<dt>constraint_method (str): one of</dt><dd><p>stdev_min - threshold is min and max of historic data +/- constraint * st dev of data
stdev - threshold is the mean of historic data +/- constraint * st dev of data
absolute - input is array of length series containing the threshold’s final value for each
quantile - constraint is the quantile of historic data to use as threshold</p>
</dd>
<dt>constraint_regularization (float): 0 to 1</dt><dd><p>where 0 means no constraint, 1 is hard threshold cutoff, and in between is penalty term</p>
</dd>
</dl>
<p>upper_constraint (float): or array, depending on method, None if unused
lower_constraint (float): or array, depending on method, None if unused
bounds (bool): if True, apply to upper/lower forecast, otherwise False applies only to forecast</p>
</div></blockquote>
</p></li>
<li><p><strong>ensemble</strong> (<em>str</em>) – None or list or comma-separated string containing:
‘auto’, ‘simple’, ‘distance’, ‘horizontal’, ‘horizontal-min’, ‘horizontal-max’, “mosaic”, “subsample”</p></li>
<li><p><strong>initial_template</strong> (<em>str</em>) – ‘Random’ - randomly generates starting template, ‘General’ uses template included in package, ‘General+Random’ - both of previous. Also can be overriden with self.import_template()</p></li>
<li><p><strong>random_seed</strong> (<em>int</em>) – random seed allows (slightly) more consistent results.</p></li>
<li><p><strong>holiday_country</strong> (<em>str</em>) – passed through to Holidays package for some models.</p></li>
<li><p><strong>subset</strong> (<em>int</em>) – maximum number of series to evaluate at once. Useful to speed evaluation when many series are input.
takes a new subset of columns on each validation, unless mosaic ensembling, in which case columns are the same in each validation</p></li>
<li><p><strong>aggfunc</strong> (<em>str</em>) – if data is to be rolled up to a higher frequency (daily -&gt; monthly) or duplicate timestamps are included. Default ‘first’ removes duplicates, for rollup try ‘mean’ or np.sum.
Beware numeric aggregations like ‘mean’ will not work with non-numeric inputs.</p></li>
<li><p><strong>na_tolerance</strong> (<em>float</em>) – 0 to 1. Series are dropped if they have more than this percent NaN. 0.95 here would allow series containing up to 95% NaN values.</p></li>
<li><p><strong>metric_weighting</strong> (<em>dict</em>) – weights to assign to metrics, effecting how the ranking score is generated.</p></li>
<li><p><strong>drop_most_recent</strong> (<em>int</em>) – option to drop n most recent data points. Useful, say, for monthly sales data where the current (unfinished) month is included.
occurs after any aggregration is applied, so will be whatever is specified by frequency, will drop n frequencies</p></li>
<li><p><strong>drop_data_older_than_periods</strong> (<em>int</em>) – take only the n most recent timestamps</p></li>
<li><p><strong>model_list</strong> (<em>list</em>) – str alias or list of names of model objects to use
now can be a dictionary of {“model”: prob} but only affects starting random templates. Genetic algorithim takes from there.</p></li>
<li><p><strong>transformer_list</strong> (<em>list</em>) – list of transformers to use, or dict of transformer:probability. Note this does not apply to initial templates.
can accept string aliases: “all”, “fast”, “superfast”</p></li>
<li><p><strong>transformer_max_depth</strong> (<em>int</em>) – maximum number of sequential transformers to generate for new Random Transformers. Fewer will be faster.</p></li>
<li><p><strong>models_mode</strong> (<em>str</em>) – option to adjust parameter options for newly generated models. Currently includes:
‘default’, ‘deep’ (searches more params, likely slower), and ‘regressor’ (forces ‘User’ regressor mode in regressor capable models)</p></li>
<li><p><strong>num_validations</strong> (<em>int</em>) – number of cross validations to perform. 0 for just train/test on best split.
Possible confusion: num_validations is the number of validations to perform <em>after</em> the first eval segment, so totally eval/validations will be this + 1.
Also “auto” and “max” aliases available. Max maxes out at 50.</p></li>
<li><p><strong>models_to_validate</strong> (<em>int</em>) – top n models to pass through to cross validation. Or float in 0 to 1 as % of tried.
0.99 is forced to 100% validation. 1 evaluates just 1 model.
If horizontal or mosaic ensemble, then additional min per_series models above the number here are added to validation.</p></li>
<li><p><strong>max_per_model_class</strong> (<em>int</em>) – of the models_to_validate what is the maximum to pass from any one model class/family.</p></li>
<li><p><strong>validation_method</strong> (<em>str</em>) – ‘even’, ‘backwards’, or ‘seasonal n’ where n is an integer of seasonal
‘backwards’ is better for recency and for shorter training sets
‘even’ splits the data into equally-sized slices best for more consistent data, a poetic but less effective strategy than others here
‘seasonal’ most similar indexes
‘seasonal n’ for example ‘seasonal 364’ would test all data on each previous year of the forecast_length that would immediately follow the training data.
‘similarity’ automatically finds the data sections most similar to the most recent data that will be used for prediction
‘custom’ - if used, .fit() needs validation_indexes passed - a list of pd.DatetimeIndex’s, tail of each is used as test</p></li>
<li><p><strong>min_allowed_train_percent</strong> (<em>float</em>) – percent of forecast length to allow as min training, else raises error.
0.5 with a forecast length of 10 would mean 5 training points are mandated, for a total of 15 points.
Useful in (unrecommended) cases where forecast_length &gt; training length.</p></li>
<li><p><strong>remove_leading_zeroes</strong> (<em>bool</em>) – replace leading zeroes with NaN. Useful in data where initial zeroes mean data collection hasn’t started yet.</p></li>
<li><p><strong>prefill_na</strong> (<em>str</em>) – value to input to fill all NaNs with. Leaving as None and allowing model interpolation is recommended.
None, 0, ‘mean’, or ‘median’. 0 may be useful in for examples sales cases where all NaN can be assumed equal to zero.</p></li>
<li><p><strong>introduce_na</strong> (<em>bool</em>) – whether to force last values in one training validation to be NaN. Helps make more robust models.
defaults to None, which introduces NaN in last rows of validations if any NaN in tail of training data. Will not introduce NaN to all series if subset is used.
if True, will also randomly change 20% of all rows to NaN in the validations</p></li>
<li><p><strong>preclean</strong> (<em>dict</em>) – if not None, a dictionary of Transformer params to be applied to input data
{“fillna”: “median”, “transformations”: {}, “transformation_params”: {}}
This will change data used in model inputs for fit and predict, and for accuracy evaluation in cross validation!</p></li>
<li><p><strong>model_interrupt</strong> (<em>bool</em>) – if False, KeyboardInterrupts quit entire program.
if True, KeyboardInterrupts attempt to only quit current model.
if True, recommend use in conjunction with <cite>verbose</cite> &gt; 0 and <cite>result_file</cite> in the event of accidental complete termination.
if “end_generation”, as True and also ends entire generation of run. Note skipped models will not be tried again.</p></li>
<li><p><strong>current_model_file</strong> (<em>str</em>) – file path to write to disk of current model params (for debugging if computer crashes). .json is appended</p></li>
<li><p><strong>verbose</strong> (<em>int</em>) – setting to 0 or lower should reduce most output. Higher numbers give more output.</p></li>
<li><p><strong>n_jobs</strong> (<em>int</em>) – Number of cores available to pass to parallel processing. A joblib context manager can be used instead (pass None in this case). Also ‘auto’.</p></li>
</ul>
</dd>
</dl>
<dl class="attribute">
<dt id="autots.AutoTS.best_model">
<code class="sig-name descname">best_model</code><a class="headerlink" href="#autots.AutoTS.best_model" title="Permalink to this definition">¶</a></dt>
<dd><p>DataFrame containing template for the best ranked model</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="autots.AutoTS.best_model_name">
<code class="sig-name descname">best_model_name</code><a class="headerlink" href="#autots.AutoTS.best_model_name" title="Permalink to this definition">¶</a></dt>
<dd><p>model name</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="autots.AutoTS.best_model_params">
<code class="sig-name descname">best_model_params</code><a class="headerlink" href="#autots.AutoTS.best_model_params" title="Permalink to this definition">¶</a></dt>
<dd><p>model params</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="autots.AutoTS.best_model_transformation_params">
<code class="sig-name descname">best_model_transformation_params</code><a class="headerlink" href="#autots.AutoTS.best_model_transformation_params" title="Permalink to this definition">¶</a></dt>
<dd><p>transformation parameters</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="autots.AutoTS.best_model_ensemble">
<code class="sig-name descname">best_model_ensemble</code><a class="headerlink" href="#autots.AutoTS.best_model_ensemble" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensemble type int id</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="autots.AutoTS.regression_check">
<code class="sig-name descname">regression_check</code><a class="headerlink" href="#autots.AutoTS.regression_check" title="Permalink to this definition">¶</a></dt>
<dd><p>If True, the best_model uses an input ‘User’ future_regressor</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="autots.AutoTS.df_wide_numeric">
<code class="sig-name descname">df_wide_numeric</code><a class="headerlink" href="#autots.AutoTS.df_wide_numeric" title="Permalink to this definition">¶</a></dt>
<dd><p>dataframe containing shaped final data</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="autots.AutoTS.initial_results.model_results">
<code class="sig-prename descclassname">initial_results.</code><code class="sig-name descname">model_results</code><a class="headerlink" href="#autots.AutoTS.initial_results.model_results" title="Permalink to this definition">¶</a></dt>
<dd><p>contains a collection of result metrics</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>object</p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="autots.AutoTS.score_per_series">
<code class="sig-name descname">score_per_series</code><a class="headerlink" href="#autots.AutoTS.score_per_series" title="Permalink to this definition">¶</a></dt>
<dd><p>generated score of metrics given per input series, if horizontal ensembles</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pd.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">fit, predict</code></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">export_template, import_template, import_results</code></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">results, failure_rate</code></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">horizontal_to_df, mosaic_to_df</code></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">plot_horizontal, plot_horizontal_transformers, plot_generation_loss, plot_backforecast</code></dt>
<dd></dd></dl>

<dl class="method">
<dt id="autots.AutoTS.back_forecast">
<code class="sig-name descname">back_forecast</code><span class="sig-paren">(</span><em class="sig-param">series=None</em>, <em class="sig-param">n_splits: int = 'auto'</em>, <em class="sig-param">tail: int = 'auto'</em>, <em class="sig-param">verbose: int = 0</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.AutoTS.back_forecast" title="Permalink to this definition">¶</a></dt>
<dd><p>Create forecasts for the historical training data, ie. backcast or back forecast. OUT OF SAMPLE</p>
<p>This actually forecasts on historical data, these are not fit model values as are often returned by other packages.
As such, this will be slower, but more representative of real world model performance.
There may be jumps in data between chunks.</p>
<p>Args are same as for model_forecast except…
n_splits(int): how many pieces to split data into. Pass 2 for fastest, or “auto” for best accuracy
series (str): if to run on only one column, pass column name. Faster than full.
tail (int): df.tail() of the dataset, back_forecast is only run on n most recent observations.</p>
<blockquote>
<div><p>which points at eval_periods of lower-level back_forecast function</p>
</div></blockquote>
<p>Returns a standard prediction object (access .forecast, .lower_forecast, .upper_forecast)</p>
</dd></dl>

<dl class="method">
<dt id="autots.AutoTS.export_template">
<code class="sig-name descname">export_template</code><span class="sig-paren">(</span><em class="sig-param">filename=None</em>, <em class="sig-param">models: str = 'best'</em>, <em class="sig-param">n: int = 20</em>, <em class="sig-param">max_per_model_class: int = None</em>, <em class="sig-param">include_results: bool = False</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.AutoTS.export_template" title="Permalink to this definition">¶</a></dt>
<dd><p>Export top results as a reusable template.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>str</em>) – ‘csv’ or ‘json’ (in filename).
<cite>None</cite> to return a dataframe and not write a file.</p></li>
<li><p><strong>models</strong> (<em>str</em>) – ‘best’ or ‘all’</p></li>
<li><p><strong>n</strong> (<em>int</em>) – if models = ‘best’, how many n-best to export</p></li>
<li><p><strong>max_per_model_class</strong> (<em>int</em>) – if models = ‘best’,
the max number of each model class to include in template</p></li>
<li><p><strong>include_results</strong> (<em>bool</em>) – whether to include performance metrics</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="autots.AutoTS.failure_rate">
<code class="sig-name descname">failure_rate</code><span class="sig-paren">(</span><em class="sig-param">result_set: str = 'initial'</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.AutoTS.failure_rate" title="Permalink to this definition">¶</a></dt>
<dd><p>Return fraction of models passing with exceptions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>result_set</strong> (<em>str</em><em>, </em><em>optional</em>) – ‘validation’ or ‘initial’. Defaults to ‘initial’.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>float.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="autots.AutoTS.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">date_col: str = None</em>, <em class="sig-param">value_col: str = None</em>, <em class="sig-param">id_col: str = None</em>, <em class="sig-param">future_regressor=None</em>, <em class="sig-param">weights: dict = {}</em>, <em class="sig-param">result_file: str = None</em>, <em class="sig-param">grouping_ids=None</em>, <em class="sig-param">validation_indexes: list = None</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.AutoTS.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Train algorithm given data supplied.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pandas.DataFrame</em>) – Datetime Indexed dataframe of series, or dataframe of three columns as below.</p></li>
<li><p><strong>date_col</strong> (<em>str</em>) – name of datetime column</p></li>
<li><p><strong>value_col</strong> (<em>str</em>) – name of column containing the data of series.</p></li>
<li><p><strong>id_col</strong> (<em>str</em>) – name of column identifying different series.</p></li>
<li><p><strong>future_regressor</strong> (<em>numpy.Array</em>) – single external regressor matching train.index</p></li>
<li><p><strong>weights</strong> (<em>dict</em>) – {‘colname1’: 2, ‘colname2’: 5} - increase importance of a series in metric evaluation. Any left blank assumed to have weight of 1.
pass the alias ‘mean’ as a str ie <cite>weights=’mean’</cite> to automatically use the mean value of a series as its weight
available aliases: mean, median, min, max</p></li>
<li><p><strong>result_file</strong> (<em>str</em>) – results saved on each new generation. Does not include validation rounds.
“.csv” save model results table.
“.pickle” saves full object, including ensemble information.</p></li>
<li><p><strong>grouping_ids</strong> (<em>dict</em>) – currently a one-level dict containing series_id:group_id mapping.
used in 0.2.x but not 0.3.x+ versions. retained for potential future use</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="autots.AutoTS.get_new_params">
<em class="property">static </em><code class="sig-name descname">get_new_params</code><span class="sig-paren">(</span><em class="sig-param">method='random'</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.AutoTS.get_new_params" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="autots.AutoTS.horizontal_per_generation">
<code class="sig-name descname">horizontal_per_generation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#autots.AutoTS.horizontal_per_generation" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="autots.AutoTS.horizontal_to_df">
<code class="sig-name descname">horizontal_to_df</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#autots.AutoTS.horizontal_to_df" title="Permalink to this definition">¶</a></dt>
<dd><p>helper function for plotting.</p>
</dd></dl>

<dl class="method">
<dt id="autots.AutoTS.import_results">
<code class="sig-name descname">import_results</code><span class="sig-paren">(</span><em class="sig-param">filename</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.AutoTS.import_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Add results from another run on the same data.</p>
<p>Input can be filename with .csv or .pickle.
or can be a DataFrame of model results or a full TemplateEvalObject</p>
</dd></dl>

<dl class="method">
<dt id="autots.AutoTS.import_template">
<code class="sig-name descname">import_template</code><span class="sig-paren">(</span><em class="sig-param">filename: str</em>, <em class="sig-param">method: str = 'add_on'</em>, <em class="sig-param">enforce_model_list: bool = True</em>, <em class="sig-param">include_ensemble: bool = False</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.AutoTS.import_template" title="Permalink to this definition">¶</a></dt>
<dd><p>Import a previously exported template of model parameters.
Must be done before the AutoTS object is .fit().</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filename</strong> (<em>str</em>) – file location (or a pd.DataFrame already loaded)</p></li>
<li><p><strong>method</strong> (<em>str</em>) – ‘add_on’ or ‘only’ - “add_on” keeps <cite>initial_template</cite> generated in init. “only” uses only this template.</p></li>
<li><p><strong>enforce_model_list</strong> (<em>bool</em>) – if True, remove model types not in model_list</p></li>
<li><p><strong>include_ensemble</strong> (<em>bool</em>) – if enforce_model_list is True, this specifies whether to allow ensembles anyway (otherwise they are unpacked and parts kept)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="autots.AutoTS.list_failed_model_types">
<code class="sig-name descname">list_failed_model_types</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#autots.AutoTS.list_failed_model_types" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of model types (ie ETS, LastValueNaive) that failed.
If all had at least one success, then return an empty list.</p>
</dd></dl>

<dl class="method">
<dt id="autots.AutoTS.mosaic_to_df">
<code class="sig-name descname">mosaic_to_df</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#autots.AutoTS.mosaic_to_df" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper function to create a readable df of models in mosaic.</p>
</dd></dl>

<dl class="method">
<dt id="autots.AutoTS.plot_back_forecast">
<code class="sig-name descname">plot_back_forecast</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.AutoTS.plot_back_forecast" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="autots.AutoTS.plot_backforecast">
<code class="sig-name descname">plot_backforecast</code><span class="sig-paren">(</span><em class="sig-param">series=None</em>, <em class="sig-param">n_splits: int = 'auto'</em>, <em class="sig-param">start_date='auto'</em>, <em class="sig-param">title=None</em>, <em class="sig-param">alpha=0.25</em>, <em class="sig-param">facecolor='black'</em>, <em class="sig-param">loc='upper left'</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.AutoTS.plot_backforecast" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the historical data and fit forecast on historic. Out of sample in chunks = forecast_length by default.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>series</strong> (<em>str</em><em> or </em><em>list</em>) – column names of time series</p></li>
<li><p><strong>n_splits</strong> (<em>int</em><em> or </em><em>str</em>) – “auto”, number &gt; 2, higher more accurate but slower</p></li>
<li><p><strong>start_date</strong> (<em>datetime.datetime</em>) – or “auto”</p></li>
<li><p><strong>title</strong> (<em>str</em>) – </p></li>
<li><p><strong>passed to pd.DataFrame.plot</strong><strong>(</strong><strong>)</strong> (<em>**kwargs</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="autots.AutoTS.plot_generation_loss">
<code class="sig-name descname">plot_generation_loss</code><span class="sig-paren">(</span><em class="sig-param">title='Single Model Accuracy Gain Over Generations'</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.AutoTS.plot_generation_loss" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot improvement in accuracy over generations.
Note: this is only “one size fits all” accuracy and
doesn’t account for the benefits seen for ensembling.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>passed to pd.DataFrame.plot</strong><strong>(</strong><strong>)</strong> (<em>**kwargs</em>) – </p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="autots.AutoTS.plot_horizontal">
<code class="sig-name descname">plot_horizontal</code><span class="sig-paren">(</span><em class="sig-param">max_series: int = 20</em>, <em class="sig-param">title='Model Types Chosen by Series'</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.AutoTS.plot_horizontal" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple plot to visualize assigned series: models.</p>
<p>Note that for ‘mosaic’ ensembles, it only plots the type of the most common model_id for that series, or the first if all are mode.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max_series</strong> (<em>int</em>) – max number of points to plot</p></li>
<li><p><strong>passed to pandas.plot</strong><strong>(</strong><strong>)</strong> (<em>**kwargs</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="autots.AutoTS.plot_horizontal_model_count">
<code class="sig-name descname">plot_horizontal_model_count</code><span class="sig-paren">(</span><em class="sig-param">color_list=None</em>, <em class="sig-param">top_n: int = 20</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.AutoTS.plot_horizontal_model_count" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots most common models. Does not factor in nested in non-horizontal Ensembles.</p>
</dd></dl>

<dl class="method">
<dt id="autots.AutoTS.plot_horizontal_per_generation">
<code class="sig-name descname">plot_horizontal_per_generation</code><span class="sig-paren">(</span><em class="sig-param">title='Horizontal Ensemble Model Accuracy Gain Over Generations'</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.AutoTS.plot_horizontal_per_generation" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot how well the horizontal ensembles would do after each new generation. Slow.</p>
</dd></dl>

<dl class="method">
<dt id="autots.AutoTS.plot_horizontal_transformers">
<code class="sig-name descname">plot_horizontal_transformers</code><span class="sig-paren">(</span><em class="sig-param">method='transformers'</em>, <em class="sig-param">color_list=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.AutoTS.plot_horizontal_transformers" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple plot to visualize transformers used.
Note this doesn’t capture transformers nested in simple ensembles.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>method</strong> (<em>str</em>) – ‘fillna’ or ‘transformers’ - which to plot</p></li>
<li><p><strong>= list of colors to sample for bar colors. Can be names</strong><strong> or </strong><strong>hex.</strong> (<em>color_list</em>) – </p></li>
<li><p><strong>passed to pandas.plot</strong><strong>(</strong><strong>)</strong> (<em>**kwargs</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="autots.AutoTS.plot_per_series_error">
<code class="sig-name descname">plot_per_series_error</code><span class="sig-paren">(</span><em class="sig-param">title: str = 'Top Series Contributing Score Error'</em>, <em class="sig-param">max_series: int = 10</em>, <em class="sig-param">max_name_chars: int = 25</em>, <em class="sig-param">color: str = '#ff9912'</em>, <em class="sig-param">figsize=(12</em>, <em class="sig-param">4)</em>, <em class="sig-param">kind: str = 'bar'</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.AutoTS.plot_per_series_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot which series are contributing most to error (Score) of final model. Avg of validations for best_model</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>title</strong> (<em>str</em>) – plot title</p></li>
<li><p><strong>max_series</strong> (<em>int</em>) – max number of series to show on plot (sorted)</p></li>
<li><p><strong>max_name_chars</strong> (<em>str</em>) – if horizontal ensemble, will chop series names to this</p></li>
<li><p><strong>color</strong> (<em>str</em>) – hex or name of color of plot</p></li>
<li><p><strong>figsize</strong> (<em>tuple</em>) – passed through to plot axis</p></li>
<li><p><strong>kind</strong> (<em>str</em>) – bar or pie</p></li>
<li><p><strong>passed to pandas.plot</strong><strong>(</strong><strong>)</strong> (<em>**kwargs</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="autots.AutoTS.plot_per_series_smape">
<code class="sig-name descname">plot_per_series_smape</code><span class="sig-paren">(</span><em class="sig-param">title: str = None</em>, <em class="sig-param">max_series: int = 10</em>, <em class="sig-param">max_name_chars: int = 25</em>, <em class="sig-param">color: str = '#ff9912'</em>, <em class="sig-param">figsize=(12</em>, <em class="sig-param">4)</em>, <em class="sig-param">kind: str = 'bar'</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.AutoTS.plot_per_series_smape" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot which series are contributing most to SMAPE of final model. Avg of validations for best_model</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>title</strong> (<em>str</em>) – plot title</p></li>
<li><p><strong>max_series</strong> (<em>int</em>) – max number of series to show on plot (sorted)</p></li>
<li><p><strong>max_name_chars</strong> (<em>str</em>) – if horizontal ensemble, will chop series names to this</p></li>
<li><p><strong>color</strong> (<em>str</em>) – hex or name of color of plot</p></li>
<li><p><strong>figsize</strong> (<em>tuple</em>) – passed through to plot axis</p></li>
<li><p><strong>kind</strong> (<em>str</em>) – bar or pie</p></li>
<li><p><strong>passed to pandas.plot</strong><strong>(</strong><strong>)</strong> (<em>**kwargs</em>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="autots.AutoTS.predict">
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><em class="sig-param">forecast_length: int = 'self'</em>, <em class="sig-param">prediction_interval: float = 'self'</em>, <em class="sig-param">future_regressor=None</em>, <em class="sig-param">hierarchy=None</em>, <em class="sig-param">just_point_forecast: bool = False</em>, <em class="sig-param">fail_on_forecast_nan: bool = True</em>, <em class="sig-param">verbose: int = 'self'</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.AutoTS.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate forecast data immediately following dates of index supplied to .fit().</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>forecast_length</strong> (<em>int</em>) – Number of periods of data to forecast ahead</p></li>
<li><p><strong>prediction_interval</strong> (<em>float</em>) – <p>interval of upper/lower forecasts.
defaults to ‘self’ ie the interval specified in __init__()
if prediction_interval is a list, then returns a dict of forecast objects.</p>
<blockquote>
<div><p>{str(interval): prediction_object}</p>
</div></blockquote>
</p></li>
<li><p><strong>future_regressor</strong> (<em>numpy.Array</em>) – additional regressor</p></li>
<li><p><strong>hierarchy</strong> – Not yet implemented</p></li>
<li><p><strong>just_point_forecast</strong> (<em>bool</em>) – If True, return a pandas.DataFrame of just point forecasts</p></li>
<li><p><strong>fail_on_forecast_nan</strong> (<em>bool</em>) – if False, return forecasts even if NaN present, if True, raises error if any nan in forecast</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Either a PredictionObject of forecasts and metadata, or
if just_point_forecast == True, a dataframe of point forecasts</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="autots.AutoTS.results">
<code class="sig-name descname">results</code><span class="sig-paren">(</span><em class="sig-param">result_set: str = 'initial'</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.AutoTS.results" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience function to return tested models table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>result_set</strong> (<em>str</em>) – ‘validation’ or ‘initial’</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="attribute">
<dt id="autots.TransformTS">
<code class="sig-prename descclassname">autots.</code><code class="sig-name descname">TransformTS</code><a class="headerlink" href="#autots.TransformTS" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="autots.tools.html#autots.tools.transform.GeneralTransformer" title="autots.tools.transform.GeneralTransformer"><code class="xref py py-class docutils literal notranslate"><span class="pre">autots.tools.transform.GeneralTransformer</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="autots.GeneralTransformer">
<em class="property">class </em><code class="sig-prename descclassname">autots.</code><code class="sig-name descname">GeneralTransformer</code><span class="sig-paren">(</span><em class="sig-param">fillna: str = None</em>, <em class="sig-param">transformations: dict = {}</em>, <em class="sig-param">transformation_params: dict = {}</em>, <em class="sig-param">grouping: str = None</em>, <em class="sig-param">reconciliation: str = None</em>, <em class="sig-param">grouping_ids=None</em>, <em class="sig-param">random_seed: int = 2020</em>, <em class="sig-param">n_jobs: int = 1</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.GeneralTransformer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Remove fillNA and then mathematical transformations.</p>
<p>Expects a chronologically sorted pandas.DataFrame with a DatetimeIndex, only numeric data, and a ‘wide’ (one column per series) shape.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<ul class="simple">
<li><dl class="simple">
<dt>inverse_transform will not fully return the original data under many conditions</dt><dd><ul>
<li><p>the primary intention of inverse_transform is to inverse for forecast (immediately following the historical time period) data from models, not to return original data</p></li>
<li><p>NAs filled will be returned with the filled value</p></li>
<li><p>Discretization, statsmodels filters, Round, Slice, ClipOutliers cannot be inversed</p></li>
<li><dl class="simple">
<dt>RollingMean, PctChange, CumSum, Seasonal Difference, and DifferencedTransformer will only return original or an immediately following forecast</dt><dd><ul>
<li><p>by default ‘forecast’ is expected, ‘original’ can be set in trans_method</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
</ul>
</aside>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fillNA</strong> (<em>str</em>) – <ul>
<li><p>method to fill NA, passed through to FillNA()</p></li>
</ul>
<p>’ffill’ - fill most recent non-na value forward until another non-na value is reached
‘zero’ - fill with zero. Useful for sales and other data where NA does usually mean $0.
‘mean’ - fill all missing values with the series’ overall average value
‘median’ - fill all missing values with the series’ overall median value
‘rolling_mean’ - fill with last n (window = 10) values
‘rolling_mean_24’ - fill with avg of last 24
‘ffill_mean_biased’ - simple avg of ffill and mean
‘fake_date’ - shifts forward data over nan, thus values will have incorrect timestamps
‘IterativeImputer’ - sklearn iterative imputer
most of the interpolate methods from pandas.interpolate</p>
</p></li>
<li><p><strong>transformations</strong> (<em>dict</em>) – <ul>
<li><p>transformations to apply {0: “MinMaxScaler”, 1: “Detrend”, …}</p></li>
</ul>
<p>’None’
‘MinMaxScaler’ - Sklearn MinMaxScaler
‘PowerTransformer’ - Sklearn PowerTransformer
‘QuantileTransformer’ - Sklearn
‘MaxAbsScaler’ - Sklearn
‘StandardScaler’ - Sklearn
‘RobustScaler’ - Sklearn
‘PCA, ‘FastICA’ - performs sklearn decomposition and returns n-cols worth of n_components
‘Detrend’ - fit then remove a linear regression from the data
‘RollingMeanTransformer’ - 10 period rolling average, can receive a custom window by transformation_param if used as second_transformation
‘FixedRollingMean’ - same as RollingMean, but with inverse_transform disabled, so smoothed forecasts are maintained.
‘RollingMean10’ - 10 period rolling average (smoothing)
‘RollingMean100thN’ - Rolling mean of periods of len(train)/100 (minimum 2)
‘DifferencedTransformer’ - makes each value the difference of that value and the previous value
‘PctChangeTransformer’ - converts to pct_change, not recommended if lots of zeroes in data
‘SinTrend’ - removes a sin trend (fitted to each column) from the data
‘CumSumTransformer’ - makes value sum of all previous
‘PositiveShift’ - makes all values &gt;= 1
‘Log’ - log transform (uses PositiveShift first as necessary)
‘IntermittentOccurrence’ - -1, 1 for non median values
‘SeasonalDifference’ - remove the last lag values from all values
‘SeasonalDifferenceMean’ - remove the average lag values from all
‘SeasonalDifference7’,’12’,’28’ - non-parameterized version of Seasonal
‘CenterLastValue’ - center data around tail of dataset
‘Round’ - round values on inverse or transform
‘Slice’ - use only recent records
‘ClipOutliers’ - remove outliers
‘Discretize’ - bin or round data into groups
‘DatepartRegression’ - move a trend trained on datetime index
“ScipyFilter” - filter data (lose information but smoother!) from scipy
“HPFilter” - statsmodels hp_filter
“STLFilter” - seasonal decompose and keep just one part of decomposition
“EWMAFilter” - use an exponential weighted moving average to smooth data
“MeanDifference” - joint version of differencing
“Cointegration” - VECM but just the vectors
“BTCD” - Box Tiao decomposition
‘AlignLastValue’: align forecast start to end of training data
‘AnomalyRemoval’: more tailored anomaly removal options
‘HolidayTransformer’: detects holidays and wishes good cheer to all
‘LocalLinearTrend’: rolling local trend, using tails for future and past trend
‘KalmanSmoothing’: smooth using a state space model</p>
</p></li>
<li><p><strong>transformation_params</strong> (<em>dict</em>) – params of transformers {0: {}, 1: {‘model’: ‘Poisson’}, …}
pass through dictionary of empty dictionaries to utilize defaults</p></li>
<li><p><strong>random_seed</strong> (<em>int</em>) – random state passed through where applicable</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="autots.GeneralTransformer.fill_na">
<code class="sig-name descname">fill_na</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">window: int = 10</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.GeneralTransformer.fill_na" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pandas.DataFrame</em>) – Datetime Indexed</p></li>
<li><p><strong>window</strong> (<em>int</em>) – passed through to rolling mean fill technique</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas.DataFrame</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="autots.GeneralTransformer.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param">df</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.GeneralTransformer.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply transformations and return transformer object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>df</strong> (<em>pandas.DataFrame</em>) – Datetime Indexed</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="autots.GeneralTransformer.fit_transform">
<code class="sig-name descname">fit_transform</code><span class="sig-paren">(</span><em class="sig-param">df</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.GeneralTransformer.fit_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Directly fit and apply transformations to convert df.</p>
</dd></dl>

<dl class="method">
<dt id="autots.GeneralTransformer.get_new_params">
<em class="property">static </em><code class="sig-name descname">get_new_params</code><span class="sig-paren">(</span><em class="sig-param">method='random'</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.GeneralTransformer.get_new_params" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="autots.GeneralTransformer.inverse_transform">
<code class="sig-name descname">inverse_transform</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">trans_method: str = 'forecast'</em>, <em class="sig-param">fillzero: bool = False</em>, <em class="sig-param">bounds: bool = False</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.GeneralTransformer.inverse_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Undo the madness.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pandas.DataFrame</em>) – Datetime Indexed</p></li>
<li><p><strong>trans_method</strong> (<em>str</em>) – ‘forecast’ or ‘original’ passed through</p></li>
<li><p><strong>fillzero</strong> (<em>bool</em>) – if inverse returns NaN, fill with zero</p></li>
<li><p><strong>bounds</strong> (<em>bool</em>) – currently ignores AlignLastValue transform if True (also used in process_components of Cassandra)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="autots.GeneralTransformer.retrieve_transformer">
<em class="property">classmethod </em><code class="sig-name descname">retrieve_transformer</code><span class="sig-paren">(</span><em class="sig-param">transformation: str = None</em>, <em class="sig-param">param: dict = {}</em>, <em class="sig-param">df=None</em>, <em class="sig-param">random_seed: int = 2020</em>, <em class="sig-param">n_jobs: int = 1</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.GeneralTransformer.retrieve_transformer" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a specific transformer object from a string.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pandas.DataFrame</em>) – Datetime Indexed - required to set params for some transformers</p></li>
<li><p><strong>transformation</strong> (<em>str</em>) – name of desired method</p></li>
<li><p><strong>param</strong> (<em>dict</em>) – dict of kwargs to pass (legacy: an actual param)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>transformer object</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="autots.GeneralTransformer.transform">
<code class="sig-name descname">transform</code><span class="sig-paren">(</span><em class="sig-param">df</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.GeneralTransformer.transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply transformations to convert df.</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="autots.RandomTransform">
<code class="sig-prename descclassname">autots.</code><code class="sig-name descname">RandomTransform</code><span class="sig-paren">(</span><em class="sig-param">transformer_list: dict = {None: 0.0</em>, <em class="sig-param">'MinMaxScaler': 0.05</em>, <em class="sig-param">'PowerTransformer': 0.02</em>, <em class="sig-param">'QuantileTransformer': 0.05</em>, <em class="sig-param">'MaxAbsScaler': 0.05</em>, <em class="sig-param">'StandardScaler': 0.04</em>, <em class="sig-param">'RobustScaler': 0.05</em>, <em class="sig-param">'PCA': 0.01</em>, <em class="sig-param">'FastICA': 0.01</em>, <em class="sig-param">'Detrend': 0.1</em>, <em class="sig-param">'RollingMeanTransformer': 0.02</em>, <em class="sig-param">'RollingMean100thN': 0.01</em>, <em class="sig-param">'DifferencedTransformer': 0.07</em>, <em class="sig-param">'SinTrend': 0.01</em>, <em class="sig-param">'PctChangeTransformer': 0.01</em>, <em class="sig-param">'CumSumTransformer': 0.02</em>, <em class="sig-param">'PositiveShift': 0.02</em>, <em class="sig-param">'Log': 0.01</em>, <em class="sig-param">'IntermittentOccurrence': 0.01</em>, <em class="sig-param">'SeasonalDifference': 0.1</em>, <em class="sig-param">'cffilter': 0.01</em>, <em class="sig-param">'bkfilter': 0.05</em>, <em class="sig-param">'convolution_filter': 0.001</em>, <em class="sig-param">'HPFilter': 0.01</em>, <em class="sig-param">'DatepartRegression': 0.01</em>, <em class="sig-param">'ClipOutliers': 0.05</em>, <em class="sig-param">'Discretize': 0.01</em>, <em class="sig-param">'CenterLastValue': 0.01</em>, <em class="sig-param">'Round': 0.02</em>, <em class="sig-param">'Slice': 0.02</em>, <em class="sig-param">'ScipyFilter': 0.02</em>, <em class="sig-param">'STLFilter': 0.01</em>, <em class="sig-param">'EWMAFilter': 0.02</em>, <em class="sig-param">'MeanDifference': 0.002</em>, <em class="sig-param">'BTCD': 0.01</em>, <em class="sig-param">'Cointegration': 0.01</em>, <em class="sig-param">'AlignLastValue': 0.1</em>, <em class="sig-param">'AnomalyRemoval': 0.03</em>, <em class="sig-param">'HolidayTransformer': 0.01</em>, <em class="sig-param">'LocalLinearTrend': 0.01</em>, <em class="sig-param">'KalmanSmoothing': 0.01}</em>, <em class="sig-param">transformer_max_depth: int = 4</em>, <em class="sig-param">na_prob_dict: dict = {'ffill': 0.4</em>, <em class="sig-param">'fake_date': 0.1</em>, <em class="sig-param">'rolling_mean': 0.1</em>, <em class="sig-param">'rolling_mean_24': 0.1</em>, <em class="sig-param">'IterativeImputer': 0.05</em>, <em class="sig-param">'mean': 0.06</em>, <em class="sig-param">'zero': 0.05</em>, <em class="sig-param">'ffill_mean_biased': 0.1</em>, <em class="sig-param">'median': 0.03</em>, <em class="sig-param">None: 0.001</em>, <em class="sig-param">'interpolate': 0.4</em>, <em class="sig-param">'KNNImputer': 0.05</em>, <em class="sig-param">'IterativeImputerExtraTrees': 0.0001}</em>, <em class="sig-param">fast_params: bool = None</em>, <em class="sig-param">superfast_params: bool = None</em>, <em class="sig-param">traditional_order: bool = False</em>, <em class="sig-param">transformer_min_depth: int = 1</em>, <em class="sig-param">allow_none: bool = True</em>, <em class="sig-param">no_nan_fill: bool = False</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.RandomTransform" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a dict of randomly choosen transformation selections.</p>
<p>BTCD is used as a signal that slow parameters are allowed.</p>
</dd></dl>

<dl class="function">
<dt id="autots.long_to_wide">
<code class="sig-prename descclassname">autots.</code><code class="sig-name descname">long_to_wide</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">date_col: str = 'datetime'</em>, <em class="sig-param">value_col: str = 'value'</em>, <em class="sig-param">id_col: str = 'series_id'</em>, <em class="sig-param">aggfunc: str = 'first'</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.long_to_wide" title="Permalink to this definition">¶</a></dt>
<dd><p>Take long data and convert into wide, cleaner data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – </p></li>
<li><p><strong>date_col</strong> (<em>str</em>) – </p></li>
<li><p><strong>value_col</strong> (<em>str</em>) – <ul>
<li><p>the name of the column with the values of the time series (ie sales $)</p></li>
</ul>
</p></li>
<li><p><strong>id_col</strong> (<em>str</em>) – <ul>
<li><p>name of the id column, unique for each time series</p></li>
</ul>
</p></li>
<li><p><strong>aggfunc</strong> (<em>str</em>) – <ul>
<li><p>passed to pd.pivot_table, determines how to aggregate duplicates for series_id and datetime</p></li>
</ul>
<p>other options include “mean” and other numpy functions, beware data <em>must</em> already be input as numeric type for these to work.
if categorical data is provided, <cite>aggfunc=’first’</cite> is recommended</p>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="autots.model_forecast">
<code class="sig-prename descclassname">autots.</code><code class="sig-name descname">model_forecast</code><span class="sig-paren">(</span><em class="sig-param">model_name, model_param_dict, model_transform_dict, df_train, forecast_length: int, frequency: str = 'infer', prediction_interval: float = 0.9, no_negatives: bool = False, constraint: float = None, future_regressor_train=None, future_regressor_forecast=None, holiday_country: str = 'US', startTimeStamps=None, grouping_ids=None, fail_on_forecast_nan: bool = True, random_seed: int = 2020, verbose: int = 0, n_jobs: int = 'auto', template_cols: list = ['Model', 'ModelParameters', 'TransformationParameters', 'Ensemble'], horizontal_subset: list = None, return_model: bool = False, current_model_file: str = None, model_count: int = 0, **kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.model_forecast" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes numeric data, returns numeric forecasts.</p>
<p>Only one model (albeit potentially an ensemble)!
Horizontal ensembles can not be nested, other ensemble types can be.</p>
<p>Well, she turned me into a newt.
A newt?
I got better. -Python</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model_name</strong> (<em>str</em>) – a string to be direct to the appropriate model, used in ModelMonster</p></li>
<li><p><strong>model_param_dict</strong> (<em>dict</em>) – dictionary of parameters to be passed into the model.</p></li>
<li><p><strong>model_transform_dict</strong> (<em>dict</em>) – a dictionary of fillNA and transformation methods to be used
pass an empty dictionary if no transformations are desired.</p></li>
<li><p><strong>df_train</strong> (<em>pandas.DataFrame</em>) – numeric training dataset of DatetimeIndex and series as cols</p></li>
<li><p><strong>forecast_length</strong> (<em>int</em>) – number of periods to forecast</p></li>
<li><p><strong>frequency</strong> (<em>str</em>) – str representing frequency alias of time series</p></li>
<li><p><strong>prediction_interval</strong> (<em>float</em>) – width of errors (note: rarely do the intervals accurately match the % asked for…)</p></li>
<li><p><strong>no_negatives</strong> (<em>bool</em>) – whether to force all forecasts to be &gt; 0</p></li>
<li><p><strong>constraint</strong> (<em>float</em>) – when not None, use this value * data st dev above max or below min for constraining forecast values.</p></li>
<li><p><strong>future_regressor_train</strong> (<em>pd.Series</em>) – with datetime index, of known in advance data, section matching train data</p></li>
<li><p><strong>future_regressor_forecast</strong> (<em>pd.Series</em>) – with datetime index, of known in advance data, section matching test data</p></li>
<li><p><strong>holiday_country</strong> (<em>str</em>) – passed through to holiday package, used by a few models as 0/1 regressor.</p></li>
<li><p><strong>n_jobs</strong> (<em>int</em>) – number of CPUs to use when available.</p></li>
<li><p><strong>template_cols</strong> (<em>list</em>) – column names of columns used as model template</p></li>
<li><p><strong>horizontal_subset</strong> (<em>list</em>) – columns of df_train to use for forecast, meant for internal use for horizontal ensembling</p></li>
<li><p><strong>fail_on_forecast_nan</strong> (<em>bool</em>) – if False, return forecasts even if NaN present, if True, raises error if any nan in forecast. True is recommended.</p></li>
<li><p><strong>return_model</strong> (<em>bool</em>) – if True, forecast will have .model and .tranformer attributes set to model object. Only works for non-ensembles.</p></li>
<li><p><strong>current_model_file</strong> (<em>str</em>) – file path to write to disk of current model params (for debugging if computer crashes). .json is appended</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Prediction from AutoTS model object</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="autots.models.html#autots.models.base.PredictionObject" title="autots.models.base.PredictionObject">PredictionObject</a> (autots.PredictionObject)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="autots.create_lagged_regressor">
<code class="sig-prename descclassname">autots.</code><code class="sig-name descname">create_lagged_regressor</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">forecast_length: int</em>, <em class="sig-param">frequency: str = 'infer'</em>, <em class="sig-param">scale: bool = True</em>, <em class="sig-param">summarize: str = None</em>, <em class="sig-param">backfill: str = 'bfill'</em>, <em class="sig-param">n_jobs: str = 'auto'</em>, <em class="sig-param">fill_na: str = 'ffill'</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.create_lagged_regressor" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a regressor of features lagged by forecast length.
Useful to some models that don’t otherwise use such information.</p>
<p>It is recommended that the .head(forecast_length) of both regressor_train and the df for training are dropped.
<cite>df = df.iloc[forecast_length:]</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – training data</p></li>
<li><p><strong>forecast_length</strong> (<em>int</em>) – length of forecasts, to shift data by</p></li>
<li><p><strong>frequency</strong> (<em>str</em>) – the ever necessary frequency for datetime things. Default ‘infer’</p></li>
<li><p><strong>scale</strong> (<em>bool</em>) – if True, use the StandardScaler to standardize the features</p></li>
<li><p><strong>summarize</strong> (<em>str</em>) – options to summarize the features, if large:
‘pca’, ‘median’, ‘mean’, ‘mean+std’, ‘feature_agglomeration’, ‘gaussian_random_projection’, “auto”</p></li>
<li><p><strong>backfill</strong> (<em>str</em>) – method to deal with the NaNs created by shifting
“bfill”- backfill with last values
“ETS” -backfill with ETS backwards forecast
“DatepartRegression” - backfill with DatepartRegression</p></li>
<li><p><strong>fill_na</strong> (<em>str</em>) – method to prefill NAs in data, same methods as available elsewhere</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>regressor_train, regressor_forecast</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="autots.create_regressor">
<code class="sig-prename descclassname">autots.</code><code class="sig-name descname">create_regressor</code><span class="sig-paren">(</span><em class="sig-param">df, forecast_length, frequency: str = 'infer', holiday_countries: list = ['US'], datepart_method: str = 'simple_binarized', drop_most_recent: int = 0, scale: bool = True, summarize: str = 'auto', backfill: str = 'bfill', n_jobs: str = 'auto', fill_na: str = 'ffill', aggfunc: str = 'first', encode_holiday_type=False, holiday_detector_params={'anomaly_detector_params': {'forecast_params': None, 'method': 'mad', 'method_params': {'alpha': 0.05, 'distribution': 'gamma'}, 'transform_dict': {'fillna': None, 'transformation_params': {'0': {}}, 'transformations': {'0': 'DifferencedTransformer'}}}, 'output': 'univariate', 'splash_threshold': None, 'threshold': 0.8, 'use_dayofmonth_holidays': True, 'use_hebrew_holidays': False, 'use_islamic_holidays': False, 'use_lunar_holidays': False, 'use_lunar_weekday': False, 'use_wkdeom_holidays': False, 'use_wkdom_holidays': True}, holiday_regr_style='flag'</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.create_regressor" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a regressor from information available in the existing dataset.
Components: are lagged data, datepart information, and holiday.</p>
<p>All of this info and more is already created by the ~Regression models, but this may help some other models (GLM, WindowRegression)</p>
<p>It is recommended that the .head(forecast_length) of both regressor_train and the df for training are dropped.
<cite>df = df.iloc[forecast_length:]</cite>
If you don’t want the lagged features, set summarize=”median” which will only give one column of such, which can then be easily dropped</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df</strong> (<em>pd.DataFrame</em>) – WIDE style dataframe (use long_to_wide if the data isn’t already)
categorical series will be discard for this, if present</p></li>
<li><p><strong>forecast_length</strong> (<em>int</em>) – time ahead that will be forecast</p></li>
<li><p><strong>frequency</strong> (<em>str</em>) – those annoying offset codes you have to always use for time series</p></li>
<li><p><strong>holiday_countries</strong> (<em>list</em>) – list of countries to pull holidays for. Reqs holidays pkg
also can be a dict of {‘country’: “subdiv”} to include subdivision (state)</p></li>
<li><p><strong>datepart_method</strong> (<em>str</em>) – see date_part from seasonal</p></li>
<li><p><strong>scale</strong> (<em>bool</em>) – if True, use the StandardScaler to standardize the features</p></li>
<li><p><strong>summarize</strong> (<em>str</em>) – options to summarize the features, if large:
‘pca’, ‘median’, ‘mean’, ‘mean+std’, ‘feature_agglomeration’, ‘gaussian_random_projection’</p></li>
<li><p><strong>backfill</strong> (<em>str</em>) – method to deal with the NaNs created by shifting
“bfill”- backfill with last values
“ETS” -backfill with ETS backwards forecast
“DatepartRegression” - backfill with DatepartRegression</p></li>
<li><p><strong>fill_na</strong> (<em>str</em>) – method to prefill NAs in data, same methods as available elsewhere</p></li>
<li><p><strong>aggfunc</strong> (<em>str</em>) – str or func, used if frequency is resampled</p></li>
<li><p><strong>encode_holiday_type</strong> (<em>bool</em>) – if True, returns column per holiday, ONLY for holidays package country holidays (not Detector)</p></li>
<li><p><strong>holiday_detector_params</strong> (<em>dict</em>) – passed to HolidayDetector, or None</p></li>
<li><p><strong>holiday_regr_style</strong> (<em>str</em>) – passed to detector’s dates_to_holidays ‘flag’, ‘series_flag’, ‘impact’</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>regressor_train, regressor_forecast</p>
</dd>
</dl>
</dd></dl>

<dl class="class">
<dt id="autots.EventRiskForecast">
<em class="property">class </em><code class="sig-prename descclassname">autots.</code><code class="sig-name descname">EventRiskForecast</code><span class="sig-paren">(</span><em class="sig-param">df_train</em>, <em class="sig-param">forecast_length</em>, <em class="sig-param">frequency: str = 'infer'</em>, <em class="sig-param">prediction_interval=0.9</em>, <em class="sig-param">lower_limit=0.05</em>, <em class="sig-param">upper_limit=0.95</em>, <em class="sig-param">model_name='UnivariateMotif'</em>, <em class="sig-param">model_param_dict={'distance_metric': 'euclidean'</em>, <em class="sig-param">'k': 10</em>, <em class="sig-param">'pointed_method': 'median'</em>, <em class="sig-param">'return_result_windows': True</em>, <em class="sig-param">'window': 14}</em>, <em class="sig-param">model_transform_dict={'fillna': 'pchip'</em>, <em class="sig-param">'transformation_params': {'0': {'method': 0.5}</em>, <em class="sig-param">'1': {}</em>, <em class="sig-param">'2': {'fixed': False</em>, <em class="sig-param">'window': 7}</em>, <em class="sig-param">'3': {}}</em>, <em class="sig-param">'transformations': {'0': 'Slice'</em>, <em class="sig-param">'1': 'DifferencedTransformer'</em>, <em class="sig-param">'2': 'RollingMeanTransformer'</em>, <em class="sig-param">'3': 'MaxAbsScaler'}}</em>, <em class="sig-param">model_forecast_kwargs={'max_generations': 30</em>, <em class="sig-param">'n_jobs': 'auto'</em>, <em class="sig-param">'random_seed': 321</em>, <em class="sig-param">'verbose': 1}</em>, <em class="sig-param">future_regressor_train=None</em>, <em class="sig-param">future_regressor_forecast=None</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.EventRiskForecast" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Generate a risk score (0 to 1, but usually close to 0) for a future event exceeding user specified upper or lower bounds.</p>
<p>Upper and lower limits can be one of four types, and may each be different.
1. None (no risk score calculated for this direction)
2. Float in range [0, 1] historic quantile of series (which is historic min and max at edges) is chosen as limit.
3. A dictionary of {“model_name”: x,  “model_param_dict”: y, “model_transform_dict”: z, “prediction_interval”: 0.9} to generate a forecast as the limits</p>
<blockquote>
<div><p>Primarily intended for simple forecasts like SeasonalNaive, but can be used with any AutoTS model</p>
</div></blockquote>
<ol class="arabic simple" start="4">
<li><p>a custom input numpy array of shape (forecast_length, num_series)</p></li>
</ol>
<p>This can be used to find the “middle” limit too, flip so upper=lower and lower=upper, then abs(U - (1 - L)).
In some cases it may help to drop the results from the first forecast timestep or two.</p>
<p>This functions by generating multiple outcome forecast possiblities in two ways.
If a ‘Motif’ type model is passed, it uses all the k neighbors motifs as outcome paths (recommended)
All other AutoTS models will generate the possible outcomes by utilizing multiple prediction_intervals (more intervals = slower but more resolution).
The risk score is then the % of outcome forecasts which cross the limit.
(less than or equal for lower, greater than or equal for upper)</p>
<p>Only accepts <cite>wide</cite> style dataframe input.
Methods are class_methods and can be used standalone. They default to __init__ inputs, but can be overriden.
Results are usually a numpy array of shape (forecast_length, num_series)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df_train</strong> (<em>pd.DataFrame</em>) – <a href="#system-message-1"><span class="problematic" id="problematic-1">`</span></a>wide style data, pd.DatetimeIndex for index and one series per column</p></li>
<li><p><strong>forecast_length</strong> (<em>int</em>) – number of forecast steps to make</p></li>
<li><p><strong>frequency</strong> (<em>str</em>) – frequency of timesteps</p></li>
<li><p><strong>prediction_interval</strong> (<em>float</em>) – float or list of floats for probabilistic forecasting
if a list, the first item in the list is the one used for .fit default</p></li>
<li><p><strong>model_forecast_kwargs</strong> (<em>dict</em>) – AutoTS kwargs to pass to generaet_result_windows, .fit_forecast, and forecast-style limits</p></li>
<li><p><strong>model_param_dict</strong><strong>, </strong><strong>model_transform_dict</strong> (<em>model_name</em><em>,</em>) – for model_forecast in generate_result_windows</p></li>
<li><p><strong>future_regressor_forecast</strong> (<em>future_regressor_train</em><em>,</em>) – regressor arrays if used</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="autots.EventRiskForecast.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#autots.EventRiskForecast.fit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="autots.EventRiskForecast.predict">
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#autots.EventRiskForecast.predict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="autots.EventRiskForecast.predict_historic">
<code class="sig-name descname">predict_historic</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#autots.EventRiskForecast.predict_historic" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="autots.EventRiskForecast.generate_result_windows">
<code class="sig-name descname">generate_result_windows</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#autots.EventRiskForecast.generate_result_windows" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="autots.EventRiskForecast.generate_risk_array">
<code class="sig-name descname">generate_risk_array</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#autots.EventRiskForecast.generate_risk_array" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="autots.EventRiskForecast.generate_historic_risk_array">
<code class="sig-name descname">generate_historic_risk_array</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#autots.EventRiskForecast.generate_historic_risk_array" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="autots.EventRiskForecast.set_limit">
<code class="sig-name descname">set_limit</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#autots.EventRiskForecast.set_limit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="autots.EventRiskForecast.plot">
<code class="sig-name descname">plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#autots.EventRiskForecast.plot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="sig-name descname">result_windows, forecast_df, up_forecast_df, low_forecast_df</code></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="sig-name descname">lower_limit_2d, upper_limit_2d, upper_risk_array, lower_risk_array</code></dt>
<dd></dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param">df_train=None, forecast_length=None, prediction_interval=None, models_mode='event_risk', model_list=['UnivariateMotif', 'MultivariateMotif', 'SectionalMotif', 'ARCH', 'MetricMotif', 'SeasonalityMotif'], ensemble=None, autots_kwargs=None, future_regressor_train=None</em><span class="sig-paren">)</span></dt>
<dd><p>Shortcut for generating model params.</p>
<p>args specified are those suggested for an otherwise normal AutoTS run</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df_train</strong> (<em>pd.DataFrame</em>) – wide style only</p></li>
<li><p><strong>model_method</strong> (<em>str</em>) – event_risk here is used by motif models</p></li>
<li><p><strong>model_list</strong> (<em>list</em>) – suggesting the use of motif models</p></li>
<li><p><strong>ensemble</strong> (<em>list</em>) – must be None or empty list to get motif result windows</p></li>
<li><p><strong>autots_kwargs</strong> (<em>dict</em>) – all other args passed in as kwargs
if None, defaults to class model_forecast_kwargs, for blank pass empty dict</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">static </em><code class="sig-name descname">generate_historic_risk_array</code><span class="sig-paren">(</span><em class="sig-param">df</em>, <em class="sig-param">limit</em>, <em class="sig-param">direction='upper'</em><span class="sig-paren">)</span></dt>
<dd><p>Given a df and a limit, returns a 0/1 array of whether limit was equaled or exceeded.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">generate_result_windows</code><span class="sig-paren">(</span><em class="sig-param">df_train=None</em>, <em class="sig-param">forecast_length=None</em>, <em class="sig-param">frequency=None</em>, <em class="sig-param">prediction_interval=None</em>, <em class="sig-param">model_name=None</em>, <em class="sig-param">model_param_dict=None</em>, <em class="sig-param">model_transform_dict=None</em>, <em class="sig-param">model_forecast_kwargs=None</em>, <em class="sig-param">future_regressor_train=None</em>, <em class="sig-param">future_regressor_forecast=None</em><span class="sig-paren">)</span></dt>
<dd><p>For event risk forecasting. Params default to class init but can be overridden here.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>(num_samples/k, forecast_length, num_series/columns)</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>result_windows (numpy.array)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">static </em><code class="sig-name descname">generate_risk_array</code><span class="sig-paren">(</span><em class="sig-param">result_windows</em>, <em class="sig-param">limit</em>, <em class="sig-param">direction='upper'</em><span class="sig-paren">)</span></dt>
<dd><p>Given a df and a limit, returns a 0/1 array of whether limit was equaled or exceeded.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">plot</code><span class="sig-paren">(</span><em class="sig-param">column_idx=0, grays=['#838996', '#c0c0c0', '#dcdcdc', '#a9a9a9', '#808080', '#989898', '#808080', '#757575', '#696969', '#c9c0bb', '#c8c8c8', '#323232', '#e5e4e2', '#778899', '#4f666a', '#848482', '#414a4c', '#8a7f80', '#c4c3d0', '#bebebe', '#dbd7d2'], up_low_color=['#ff4500', '#ff5349'], bar_color='#6495ED', bar_ylim=[0.0, 0.5], figsize=(14, 8), result_windows=None, lower_limit_2d=None, upper_limit_2d=None, upper_risk_array=None, lower_risk_array=None</em><span class="sig-paren">)</span></dt>
<dd><p>Plot a sample of the risk forecast outcomes.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>column_idx</strong> (<em>int</em>) – positional index of series to sample for plot</p></li>
<li><p><strong>grays</strong> (<em>list of str</em>) – list of hex codes for colors for the potential forecasts</p></li>
<li><p><strong>up_low_colors</strong> (<em>list of str</em>) – two hex code colors for lower and upper</p></li>
<li><p><strong>bar_color</strong> (<em>str</em>) – hex color for bar graph</p></li>
<li><p><strong>bar_ylim</strong> (<em>list</em>) – passed to ylim of plot, sets scale of axis of barplot</p></li>
<li><p><strong>figsize</strong> (<em>tuple</em>) – passed to figsize of output figure</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="autots.EventRiskForecast.plot_eval">
<code class="sig-name descname">plot_eval</code><span class="sig-paren">(</span><em class="sig-param">df_test, column_idx=0, actuals_color=['#00BFFF'], up_low_color=['#ff4500', '#ff5349'], bar_color='#6495ED', bar_ylim=[0.0, 0.5], figsize=(14, 8), lower_limit_2d=None, upper_limit_2d=None, upper_risk_array=None, lower_risk_array=None</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.EventRiskForecast.plot_eval" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot a sample of the risk forecast with known value vs risk score.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>df_test</strong> (<em>pd.DataFrame</em>) – dataframe of known values (dt index, series)</p></li>
<li><p><strong>column_idx</strong> (<em>int</em>) – positional index of series to sample for plot</p></li>
<li><p><strong>actuals_color</strong> (<em>list of str</em>) – list of one hex code for line of known actuals</p></li>
<li><p><strong>up_low_colors</strong> (<em>list of str</em>) – two hex code colors for lower and upper</p></li>
<li><p><strong>bar_color</strong> (<em>str</em>) – hex color for bar graph</p></li>
<li><p><strong>bar_ylim</strong> (<em>list</em>) – passed to ylim of plot, sets scale of axis of barplot</p></li>
<li><p><strong>figsize</strong> (<em>tuple</em>) – passed to figsize of output figure</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">predict</code><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Returns forecast upper, lower risk probability arrays for input limits.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="sig-name descname">predict_historic</code><span class="sig-paren">(</span><em class="sig-param">upper_limit=None</em>, <em class="sig-param">lower_limit=None</em>, <em class="sig-param">eval_periods=None</em><span class="sig-paren">)</span></dt>
<dd><p>Returns upper, lower risk probability arrays for input limits for the historic data.
If manual numpy array limits are used, the limits will need to be appropriate shape (for df_train and eval_periods if used)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>upper_limit</strong> – if different than the version passed to init</p></li>
<li><p><strong>lower_limit</strong> – if different than the version passed to init</p></li>
<li><p><strong>eval_periods</strong> (<em>int</em>) – only assess the n most recent periods of history</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt>
<em class="property">static </em><code class="sig-name descname">set_limit</code><span class="sig-paren">(</span><em class="sig-param">limit</em>, <em class="sig-param">target_shape</em>, <em class="sig-param">df_train</em>, <em class="sig-param">direction='upper'</em>, <em class="sig-param">period='forecast'</em>, <em class="sig-param">forecast_length=None</em>, <em class="sig-param">eval_periods=None</em><span class="sig-paren">)</span></dt>
<dd><p>Handles all limit input styles and returns numpy array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>limit</strong> – see class overview for input options</p></li>
<li><p><strong>target_shape</strong> (<em>tuple</em>) – of (forecast_length, num_series)</p></li>
<li><p><strong>df_train</strong> (<em>pd.DataFrame</em>) – training data</p></li>
<li><p><strong>direction</strong> (<em>str</em>) – whether it is the “upper” or “lower” limit</p></li>
<li><p><strong>period</strong> (<em>str</em>) – “forecast” or “historic” only used for limits defined by forecast algorithm params</p></li>
<li><p><strong>forecast_length</strong> (<em>int</em>) – needed only for historic of forecast algorithm defined limit</p></li>
<li><p><strong>eval_periods</strong> (<em>int</em>) – only for historic forecast limit, only runs on the tail n (this) of data</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="autots.AnomalyDetector">
<em class="property">class </em><code class="sig-prename descclassname">autots.</code><code class="sig-name descname">AnomalyDetector</code><span class="sig-paren">(</span><em class="sig-param">output='multivariate'</em>, <em class="sig-param">method='zscore'</em>, <em class="sig-param">transform_dict={'transformation_params': {0: {'datepart_method': 'simple_3'</em>, <em class="sig-param">'regression_model': {'model': 'ElasticNet'</em>, <em class="sig-param">'model_params': {}}}}</em>, <em class="sig-param">'transformations': {0: 'DatepartRegression'}}</em>, <em class="sig-param">forecast_params=None</em>, <em class="sig-param">method_params={}</em>, <em class="sig-param">eval_period=None</em>, <em class="sig-param">n_jobs=1</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.AnomalyDetector" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="autots.AnomalyDetector.detect">
<code class="sig-name descname">detect</code><span class="sig-paren">(</span><em class="sig-param">df</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.AnomalyDetector.detect" title="Permalink to this definition">¶</a></dt>
<dd><p>All will return -1 for anomalies.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>df</strong> (<em>pd.DataFrame</em>) – pandas wide-style data</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame (classifications, -1 = outlier, 1 = not outlier), pd.DataFrame s(scores)</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="autots.AnomalyDetector.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param">df</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.AnomalyDetector.fit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="autots.AnomalyDetector.fit_anomaly_classifier">
<code class="sig-name descname">fit_anomaly_classifier</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#autots.AnomalyDetector.fit_anomaly_classifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit a model to predict if a score is an anomaly.</p>
</dd></dl>

<dl class="method">
<dt id="autots.AnomalyDetector.get_new_params">
<em class="property">static </em><code class="sig-name descname">get_new_params</code><span class="sig-paren">(</span><em class="sig-param">method='random'</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.AnomalyDetector.get_new_params" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="autots.AnomalyDetector.plot">
<code class="sig-name descname">plot</code><span class="sig-paren">(</span><em class="sig-param">series_name=None</em>, <em class="sig-param">title=None</em>, <em class="sig-param">plot_kwargs={}</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.AnomalyDetector.plot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="autots.AnomalyDetector.score_to_anomaly">
<code class="sig-name descname">score_to_anomaly</code><span class="sig-paren">(</span><em class="sig-param">scores</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.AnomalyDetector.score_to_anomaly" title="Permalink to this definition">¶</a></dt>
<dd><p>A DecisionTree model, used as models are nonstandard (and nonparametric).</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="autots.HolidayDetector">
<em class="property">class </em><code class="sig-prename descclassname">autots.</code><code class="sig-name descname">HolidayDetector</code><span class="sig-paren">(</span><em class="sig-param">anomaly_detector_params={}</em>, <em class="sig-param">threshold=0.8</em>, <em class="sig-param">min_occurrences=2</em>, <em class="sig-param">splash_threshold=0.65</em>, <em class="sig-param">use_dayofmonth_holidays=True</em>, <em class="sig-param">use_wkdom_holidays=True</em>, <em class="sig-param">use_wkdeom_holidays=True</em>, <em class="sig-param">use_lunar_holidays=True</em>, <em class="sig-param">use_lunar_weekday=False</em>, <em class="sig-param">use_islamic_holidays=True</em>, <em class="sig-param">use_hebrew_holidays=True</em>, <em class="sig-param">output: str = 'multivariate'</em>, <em class="sig-param">n_jobs: int = 1</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.HolidayDetector" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="autots.HolidayDetector.dates_to_holidays">
<code class="sig-name descname">dates_to_holidays</code><span class="sig-paren">(</span><em class="sig-param">dates</em>, <em class="sig-param">style='flag'</em>, <em class="sig-param">holiday_impacts=False</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.HolidayDetector.dates_to_holidays" title="Permalink to this definition">¶</a></dt>
<dd><p>Populate date information for a given pd.DatetimeIndex.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dates</strong> (<em>pd.DatetimeIndex</em>) – list of dates</p></li>
<li><p><strong>day_holidays</strong> (<em>pd.DataFrame</em>) – list of month/day holidays. Pass None if not available</p></li>
<li><p><strong>style</strong> (<em>str</em>) – option for how to return information
“long” - return date, name, series for all holidays in a long style dataframe
“impact” - returns dates, series with values of sum of impacts (if given) or joined string of holiday names
‘flag’ - return dates, holidays flag, (is not 0-1 but rather sum of input series impacted for that holiday and day)
‘prophet’ - return format required for prophet. Will need to be filtered on <cite>series</cite> for multivariate case
‘series_flag’ - dates, series 0/1 for if holiday occurred in any calendar</p></li>
<li><p><strong>holiday_impacts</strong> (<em>dict</em>) – a dict passed to .replace contaning values for holiday_names, or str ‘value’ or ‘anomaly_score’</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="autots.HolidayDetector.detect">
<code class="sig-name descname">detect</code><span class="sig-paren">(</span><em class="sig-param">df</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.HolidayDetector.detect" title="Permalink to this definition">¶</a></dt>
<dd><p>Run holiday detection. Input wide-style pandas time series.</p>
</dd></dl>

<dl class="method">
<dt id="autots.HolidayDetector.fit">
<code class="sig-name descname">fit</code><span class="sig-paren">(</span><em class="sig-param">df</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.HolidayDetector.fit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="autots.HolidayDetector.get_new_params">
<em class="property">static </em><code class="sig-name descname">get_new_params</code><span class="sig-paren">(</span><em class="sig-param">method='random'</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.HolidayDetector.get_new_params" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="autots.HolidayDetector.plot">
<code class="sig-name descname">plot</code><span class="sig-paren">(</span><em class="sig-param">series_name=None</em>, <em class="sig-param">include_anomalies=True</em>, <em class="sig-param">title=None</em>, <em class="sig-param">plot_kwargs={}</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.HolidayDetector.plot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="autots.HolidayDetector.plot_anomaly">
<code class="sig-name descname">plot_anomaly</code><span class="sig-paren">(</span><em class="sig-param">kwargs={}</em><span class="sig-paren">)</span><a class="headerlink" href="#autots.HolidayDetector.plot_anomaly" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<p class="logo">
  <a href="../index.html">
    <img class="logo" src="../_static/autots_logo.png" alt="Logo"/>
    
  </a>
</p>



<p class="blurb">Automated Forecasting</p>




<p>
<iframe src="https://ghbtns.com/github-btn.html?user=winedarksea&repo=autots&type=watch&count=true&size=large&v=2"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>





<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="intro.html">Intro</a></li>
<li class="toctree-l1"><a class="reference internal" href="intro.html#autots">AutoTS</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">autots</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">autots package</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="modules.html">autots</a><ul>
      <li>Previous: <a href="modules.html" title="previous chapter">autots</a></li>
      <li>Next: <a href="autots.datasets.html" title="next chapter">autots.datasets package</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2022, Colin Catlin.
      
      |
      <a href="../_sources/source/autots.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-166997414-1']);
      _gaq.push(['_setDomainName', 'none']);
      _gaq.push(['_setAllowLinker', true]);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
    
  </body>
</html>